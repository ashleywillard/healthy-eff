-#  app/views/admin/index.html.haml
%h1 #{@date.strftime("%B")} #{@date.strftime("%Y")}
= link_to "Previous", admin_list_path(:navigate => "Previous")
= link_to "Next", admin_list_path(:navigate => "Next")

- if @user_months.empty?
  %p= "No records for #{@date.strftime("%B")} #{@date.strftime("%Y")}."
- else
  %p= button_to "Print Audit Sheet", admin_audit_path(:year => @date.strftime("%Y"), :month => @date.strftime("%m")), :method => :get, :class => "btn"
  -# form_tag, MULTI-PAGE PDF GENERATING GOES HERE, e.g., admin_multi_acct_path(:year => @date.strftime("%Y"), :month => @date.strftime("%m"))
  %table#employee_list.table.table-striped
    %thead
      %tr
        %th{:style => "text-align:center"}
          %button.btn#check_all Select All
        %th= link_to "First Name", admin_list_path(:sort => "first_name")
        %th= link_to "Last Name", admin_list_path(:sort => "last_name")
        %th Days of Healthy Activity
        %th Pending
    %tbody
      - @user_months.each do |month|
        %tr
          %td{:style => "text-align:center"}
            = check_box_tag "selected[]", month.user.id
            = link_to "Accounting", admin_accounting_path(:id => month.user.id,
                                                          :year => @date.strftime("%Y"),
                                                          :month => @date.strftime("%m"))
          %td= month.user.first_name
          %td= month.user.last_name
          %td= month.get_num_approved_days()
          %td= link_to "#{month.get_num_pending_days()}", admin_pending_path unless month.get_num_pending_days() == 0
  = submit_tag 'Print Selected', :class => "btn"

:javascript
  $('#check_all').on("click", function(){ $('input[type="checkbox"]').click(); });
